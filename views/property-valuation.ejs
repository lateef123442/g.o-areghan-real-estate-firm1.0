<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Valuation | G.O AREGHAN REAL ESTATE FIRM</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --navy: #0d2137; --navy-mid: #163352; --navy-light: #1e4a78;
            --gold: #c8922a; --gold-light: #e0aa45; --gold-pale: #f5e6c8;
            --cream: #faf7f2; --white: #ffffff;
            --gray-50: #f8fafc; --gray-100: #f1f5f9; --gray-200: #e2e8f0;
            --gray-400: #94a3b8; --gray-600: #475569; --text: #0d1f35;
            --green: #16a34a; --red: #dc2626;
            --shadow-sm: 0 1px 3px rgba(13,33,55,0.08);
            --shadow-md: 0 4px 20px rgba(13,33,55,0.10);
            --shadow-lg: 0 12px 50px rgba(13,33,55,0.15);
            --shadow-xl: 0 24px 80px rgba(13,33,55,0.20);
            --radius: 16px; --radius-sm: 10px;
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { font-family: 'DM Sans', sans-serif; background: var(--cream); color: var(--text); min-height: 100vh; }
        h1,h2,h3,h4 { font-family: 'Cormorant Garamond', serif; }

        /* ===== NAVBAR ===== */
        .navbar { position: sticky; top: 0; z-index: 100; background: rgba(255,255,255,0.97); backdrop-filter: blur(12px); border-bottom: 1px solid var(--gray-200); box-shadow: var(--shadow-sm); }
        .nav-inner { max-width: 1400px; margin: 0 auto; padding: 0 32px; height: 70px; display: flex; align-items: center; justify-content: space-between; gap: 20px; }
        .nav-brand { display: flex; align-items: center; gap: 12px; text-decoration: none; flex-shrink: 0; }
        .nav-logo { width: 44px; height: 44px; border-radius: 50%; overflow: hidden; border: 2px solid var(--gold); }
        .nav-logo img { width: 100%; height: 100%; object-fit: cover; }
        .brand-name { display: block; font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; font-weight: 700; color: var(--navy); }
        .brand-tagline { display: block; font-size: 0.62rem; font-weight: 600; color: var(--gold); letter-spacing: 0.1em; text-transform: uppercase; }
        .nav-links { display: flex; align-items: center; gap: 2px; flex: 1; justify-content: center; }
        .nav-link { display: flex; align-items: center; gap: 5px; padding: 7px 12px; border-radius: 8px; font-size: 0.82rem; font-weight: 600; color: var(--gray-600); text-decoration: none; transition: all 0.2s; white-space: nowrap; }
        .nav-link i { font-size: 0.75rem; opacity: 0.8; }
        .nav-link:hover { background: var(--gray-100); color: var(--navy); }
        .nav-link.active { background: #e8eef8; color: var(--navy-light); }
        .dropdown { position: relative; }
        .dropdown-toggle { display: flex; align-items: center; gap: 5px; padding: 7px 12px; border-radius: 8px; font-size: 0.82rem; font-weight: 600; color: var(--gray-600); background: none; border: none; cursor: pointer; transition: all 0.2s; font-family: inherit; }
        .dropdown-toggle:hover { background: var(--gray-100); color: var(--navy); }
        .dropdown-menu { position: absolute; top: calc(100% + 10px); left: 0; background: var(--white); border: 1px solid var(--gray-200); border-radius: 12px; box-shadow: var(--shadow-lg); min-width: 190px; padding: 8px; opacity: 0; visibility: hidden; transform: translateY(8px); transition: all 0.2s; }
        .dropdown-menu.show { opacity: 1; visibility: visible; transform: translateY(0); }
        .dropdown-item { display: flex; align-items: center; gap: 10px; padding: 10px 14px; font-size: 0.85rem; font-weight: 500; color: var(--text); text-decoration: none; border-radius: 8px; transition: background 0.15s; }
        .dropdown-item i { width: 16px; color: var(--navy-light); font-size: 0.8rem; }
        .dropdown-item:hover { background: var(--gray-100); color: var(--navy); }
        .nav-right { display: flex; align-items: center; gap: 10px; flex-shrink: 0; }
        #desktop-login-container { display: flex; align-items: center; }
        .btn-primary { background: var(--navy); color: white; padding: 9px 22px; border-radius: 8px; font-size: 0.82rem; font-weight: 700; border: none; cursor: pointer; transition: all 0.2s; text-decoration: none; display: inline-block; font-family: inherit; }
        .btn-primary:hover { background: var(--navy-light); transform: translateY(-1px); }
        .btn-logout { background: #fee2e2; color: #dc2626; padding: 9px 22px; border-radius: 8px; font-size: 0.82rem; font-weight: 700; border: none; cursor: pointer; transition: all 0.2s; text-decoration: none; display: inline-block; }
        .btn-logout:hover { background: #fecaca; }
        .mobile-menu-btn { display: none; background: none; border: 1px solid var(--gray-200); border-radius: 8px; padding: 8px 10px; cursor: pointer; color: var(--text); font-size: 1rem; }
        #mobile-menu { display: none; position: fixed; inset: 0; background: var(--white); z-index: 200; overflow-y: auto; }
        #mobile-menu.show { display: block; }
        .mobile-menu-inner { padding: 24px; }
        .mobile-menu-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; padding-bottom: 20px; border-bottom: 1px solid var(--gray-200); }
        .mobile-close-btn { width: 36px; height: 36px; border-radius: 8px; background: var(--gray-100); border: none; cursor: pointer; color: var(--gray-600); font-size: 1rem; display: flex; align-items: center; justify-content: center; }
        .mobile-nav-link { display: flex; align-items: center; gap: 12px; padding: 14px 0; font-size: 1rem; font-weight: 600; color: var(--text); text-decoration: none; border-bottom: 1px solid var(--gray-100); }
        .mobile-nav-link i { width: 20px; color: var(--navy-light); }
        #mobile-login-section { margin-top: 28px; }

        /* ===== HERO ===== */
        .hero {
            position: relative; min-height: 44vh; display: flex; align-items: center; overflow: hidden;
        }
        .hero-bg { position: absolute; inset: 0; background: url('/img/OGA AYO COM CARDXS.jpg') center/cover no-repeat; }
        .hero-overlay { position: absolute; inset: 0; background: linear-gradient(135deg, rgba(13,33,55,0.96) 0%, rgba(13,33,55,0.80) 60%, rgba(200,146,42,0.10) 100%); }
        .hero-accent { position: absolute; bottom: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, var(--gold), var(--gold-light), var(--gold)); }
        .hero-inner { position: relative; z-index: 2; max-width: 1400px; margin: 0 auto; padding: 64px 32px 48px; width: 100%; }
        .hero-eyebrow { display: inline-flex; align-items: center; gap: 8px; background: rgba(200,146,42,0.12); border: 1px solid rgba(200,146,42,0.35); color: var(--gold-light); padding: 5px 14px; border-radius: 30px; font-size: 0.7rem; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; margin-bottom: 16px; }
        .hero-title { font-size: clamp(2.4rem, 4vw, 3.8rem); font-weight: 700; color: white; line-height: 1.1; margin-bottom: 12px; }
        .hero-title em { font-style: italic; color: var(--gold-light); }
        .hero-sub { font-size: 0.95rem; color: rgba(255,255,255,0.68); max-width: 520px; line-height: 1.7; }
        .hero-badges { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 24px; }
        .hero-badge { display: inline-flex; align-items: center; gap: 6px; background: rgba(255,255,255,0.07); border: 1px solid rgba(255,255,255,0.16); color: rgba(255,255,255,0.8); padding: 6px 14px; border-radius: 8px; font-size: 0.76rem; font-weight: 600; }
        .hero-badge i { color: var(--gold-light); font-size: 0.7rem; }

        /* ===== PAGE CONTAINER ===== */
        .page-container { max-width: 1000px; margin: 0 auto; padding: 40px 32px 80px; }

        /* ===== VAL CARD ===== */
        .val-card { background: var(--white); border-radius: var(--radius); box-shadow: var(--shadow-lg); border: 1px solid var(--gray-200); overflow: hidden; }

        /* Card Header */
        .val-header { background: linear-gradient(135deg, var(--navy), var(--navy-light)); padding: 20px 28px; display: flex; align-items: center; gap: 14px; }
        .val-header-icon { width: 46px; height: 46px; border-radius: 12px; background: rgba(200,146,42,0.18); border: 1px solid rgba(200,146,42,0.35); display: flex; align-items: center; justify-content: center; font-size: 1.2rem; color: var(--gold-light); flex-shrink: 0; }
        .val-header-text h2 { font-family: 'Cormorant Garamond', serif; font-size: 1.3rem; font-weight: 700; color: white; }
        .val-header-text p { font-size: 0.75rem; color: rgba(255,255,255,0.55); margin-top: 2px; }
        .ai-pill { margin-left: auto; display: inline-flex; align-items: center; gap: 7px; background: rgba(200,146,42,0.15); border: 1px solid rgba(200,146,42,0.3); padding: 6px 14px; border-radius: 30px; font-size: 0.7rem; font-weight: 700; color: var(--gold-light); letter-spacing: 0.06em; flex-shrink: 0; }
        .pulse-dot { width: 7px; height: 7px; border-radius: 50%; background: var(--gold-light); animation: pulse 2s ease-in-out infinite; }
        @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.35} }

        /* Form grid */
        .form-body { padding: 28px; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; background: var(--cream); }
        @media (max-width: 680px) { .form-body { grid-template-columns: 1fr; } }

        .section-card { background: var(--white); border-radius: var(--radius-sm); padding: 22px; border: 1px solid var(--gray-200); box-shadow: var(--shadow-sm); }
        .section-title { font-family: 'DM Sans', sans-serif; font-size: 0.68rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.1em; color: var(--navy-light); margin-bottom: 18px; padding-bottom: 10px; border-bottom: 2px solid var(--gold-pale); display: flex; align-items: center; gap: 7px; }
        .section-title i { color: var(--gold); font-size: 0.75rem; }

        .form-group { margin-bottom: 14px; }
        .form-group:last-child { margin-bottom: 0; }
        label { display: block; font-size: 0.76rem; color: var(--gray-600); margin-bottom: 5px; font-weight: 600; }

        input[type="text"], input[type="number"], select, textarea {
            width: 100%; padding: 10px 13px; border: 1.5px solid var(--gray-200); border-radius: 8px;
            font-size: 0.875rem; color: var(--text); background: var(--gray-50);
            outline: none; font-family: inherit; transition: all 0.2s;
        }
        input:focus, select:focus, textarea:focus {
            border-color: var(--navy-light); background: var(--white);
            box-shadow: 0 0 0 3px rgba(30,74,120,0.08);
        }
        input::placeholder, textarea::placeholder { color: var(--gray-400); }
        select { cursor: pointer; }

        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .form-row .form-group { margin-bottom: 0; }

        textarea { resize: vertical; min-height: 72px; }

        /* Features checkboxes */
        .features-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; margin-top: 4px; }
        .feature-check {
            display: flex; align-items: center; gap: 7px; padding: 8px 10px;
            border: 1.5px solid var(--gray-200); border-radius: 8px; cursor: pointer;
            font-size: 0.78rem; color: var(--gray-600); transition: all 0.15s;
            user-select: none; background: var(--white);
        }
        .feature-check:hover { border-color: var(--navy-light); color: var(--navy); }
        .feature-check.checked { background: #e8eef8; border-color: var(--navy-light); color: var(--navy); }
        .feature-check input[type="checkbox"] { width: 14px; height: 14px; accent-color: var(--navy-light); cursor: pointer; flex-shrink: 0; }

        /* Submit bar */
        .submit-bar {
            display: flex; align-items: center; gap: 14px;
            padding: 18px 28px; background: var(--white);
            border-top: 1px solid var(--gray-200);
        }
        .submit-note { font-size: 0.75rem; color: var(--gray-400); flex: 1; display: flex; align-items: center; gap: 6px; }
        .submit-note i { color: var(--gold); }
        .btn-valuate {
            display: inline-flex; align-items: center; gap: 8px;
            padding: 12px 24px; background: linear-gradient(135deg, var(--navy), var(--navy-light));
            color: white; border: none; border-radius: 10px; font-size: 0.875rem; font-weight: 700;
            cursor: pointer; transition: all 0.2s; font-family: inherit; white-space: nowrap;
        }
        .btn-valuate:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 6px 20px rgba(13,33,55,0.3); }
        .btn-valuate:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
        .btn-valuate i { font-size: 0.85rem; }

        /* Loading */
        .loading-bar { display: none; padding: 40px 28px; text-align: center; background: var(--cream); border-top: 1px solid var(--gray-200); }
        .loading-bar.active { display: block; }
        .spinner-wrap { width: 52px; height: 52px; border-radius: 50%; background: linear-gradient(135deg, var(--navy), var(--navy-light)); display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; box-shadow: 0 8px 24px rgba(13,33,55,0.25); }
        .spinner { width: 26px; height: 26px; border: 3px solid rgba(255,255,255,0.25); border-top-color: white; border-radius: 50%; animation: spin 0.8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .ld-main { font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; font-weight: 700; color: var(--navy); margin-bottom: 4px; }
        .ld-step { font-size: 0.78rem; color: var(--gray-400); }

        /* ===== RESULTS ===== */
        .result-area { display: none; padding: 28px; background: var(--cream); border-top: 1px solid var(--gray-200); }
        .result-area.visible { display: block; }

        /* Price hero */
        .valuation-hero {
            background: linear-gradient(135deg, var(--navy), var(--navy-light));
            border-radius: var(--radius); padding: 28px 32px; margin-bottom: 16px;
            display: flex; align-items: flex-start; justify-content: space-between;
            flex-wrap: wrap; gap: 20px; position: relative; overflow: hidden;
        }
        .valuation-hero::before { content: ''; position: absolute; top: -30px; right: -30px; width: 120px; height: 120px; border-radius: 50%; background: rgba(200,146,42,0.1); }
        .valuation-hero::after { content: ''; position: absolute; bottom: -20px; left: 60%; width: 80px; height: 80px; border-radius: 50%; background: rgba(200,146,42,0.06); }
        .price-label { font-size: 0.68rem; color: rgba(255,255,255,0.5); text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 6px; }
        .price-value { font-family: 'Cormorant Garamond', serif; font-size: clamp(2rem, 4vw, 3rem); font-weight: 700; color: white; line-height: 1; }
        .price-range { font-size: 0.8rem; color: rgba(255,255,255,0.5); margin-top: 6px; }
        .confidence-pill { display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px; border-radius: 30px; font-size: 0.78rem; font-weight: 700; flex-shrink: 0; }
        .confidence-pill.high { background: rgba(22,163,74,0.18); color: #4ade80; border: 1px solid rgba(22,163,74,0.3); }
        .confidence-pill.medium { background: rgba(234,179,8,0.18); color: #facc15; border: 1px solid rgba(234,179,8,0.3); }
        .confidence-pill.low { background: rgba(239,68,68,0.18); color: #f87171; border: 1px solid rgba(239,68,68,0.3); }

        /* Metrics */
        .metrics-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 16px; }
        .metric-card { background: var(--white); border: 1px solid var(--gray-200); border-radius: var(--radius-sm); padding: 18px; text-align: center; box-shadow: var(--shadow-sm); }
        .metric-val { font-family: 'Cormorant Garamond', serif; font-size: 1.5rem; font-weight: 700; color: var(--navy); }
        .metric-lbl { font-size: 0.66rem; color: var(--gray-400); text-transform: uppercase; letter-spacing: 0.08em; margin-top: 4px; }

        /* AI bubble */
        .ai-bubble { background: var(--white); border: 1px solid var(--gray-200); border-radius: var(--radius-sm); padding: 20px; margin-bottom: 16px; box-shadow: var(--shadow-sm); }
        .bubble-header { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
        .bubble-avatar { width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, var(--navy), var(--navy-light)); color: white; display: flex; align-items: center; justify-content: center; font-size: 0.62rem; font-weight: 800; flex-shrink: 0; }
        .bubble-name { font-size: 0.8rem; font-weight: 700; color: var(--navy); }
        .bubble-sub { font-size: 0.68rem; color: var(--gray-400); margin-top: 1px; }
        .bubble-text { font-size: 0.875rem; line-height: 1.7; color: var(--gray-600); }

        /* Factors */
        .factors-card { background: var(--white); border: 1px solid var(--gray-200); border-radius: var(--radius-sm); padding: 20px; box-shadow: var(--shadow-sm); }
        .factors-title { font-size: 0.68rem; font-weight: 800; color: var(--navy-light); text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 16px; display: flex; align-items: center; gap: 7px; }
        .factors-title i { color: var(--gold); }
        .factor-row { display: flex; align-items: center; gap: 12px; margin-bottom: 10px; font-size: 0.85rem; }
        .factor-row:last-child { margin-bottom: 0; }
        .factor-name { color: var(--gray-600); min-width: 130px; flex-shrink: 0; font-size: 0.82rem; }
        .factor-track { flex: 1; height: 6px; background: var(--gray-100); border-radius: 99px; overflow: hidden; }
        .factor-fill { height: 100%; border-radius: 99px; background: linear-gradient(90deg, var(--navy-light), var(--navy)); transition: width 0.9s cubic-bezier(0.34,1.56,0.64,1); }
        .factor-fill.neg { background: linear-gradient(90deg, #ef4444, #dc2626); }
        .factor-impact { font-weight: 700; font-size: 0.78rem; min-width: 44px; text-align: right; }
        .factor-impact.pos { color: var(--green); }
        .factor-impact.neg { color: var(--red); }

        /* Disclaimer */
        .disclaimer { display: none; text-align: center; font-size: 0.72rem; color: var(--gray-400); padding: 14px 28px; border-top: 1px solid var(--gray-200); background: var(--white); }
        .disclaimer i { margin-right: 4px; color: var(--gold); }

        /* Typing cursor */
        .typing-cursor::after { content: '|'; animation: blink 0.7s step-end infinite; color: var(--navy-light); }
        @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0} }

        /* ===== CTA FOOTER ===== */
        .cta-banner { background: linear-gradient(135deg, var(--navy), var(--navy-light)); margin-top: 32px; border-radius: var(--radius); padding: 28px 32px; display: flex; align-items: center; justify-content: space-between; gap: 20px; flex-wrap: wrap; }
        .cta-banner-text h3 { font-family: 'Cormorant Garamond', serif; font-size: 1.3rem; font-weight: 700; color: white; margin-bottom: 4px; }
        .cta-banner-text p { font-size: 0.82rem; color: rgba(255,255,255,0.55); }
        .cta-banner-btns { display: flex; gap: 10px; flex-wrap: wrap; }
        .btn-gold { display: inline-flex; align-items: center; gap: 7px; background: var(--gold); color: var(--navy); padding: 10px 20px; border-radius: 10px; font-size: 0.82rem; font-weight: 700; text-decoration: none; transition: all 0.2s; border: 2px solid var(--gold); }
        .btn-gold:hover { background: var(--gold-light); transform: translateY(-1px); }
        .btn-outline-white { display: inline-flex; align-items: center; gap: 7px; background: transparent; color: white; padding: 10px 20px; border-radius: 10px; font-size: 0.82rem; font-weight: 700; text-decoration: none; transition: all 0.2s; border: 2px solid rgba(255,255,255,0.35); }
        .btn-outline-white:hover { background: rgba(255,255,255,0.1); border-color: white; }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 900px) { .nav-links { display: none; } .mobile-menu-btn { display: block; } }
        @media (max-width: 680px) {
            .nav-inner { padding: 0 16px; } .page-container { padding: 24px 16px 60px; }
            .hero-inner { padding: 48px 20px 36px; } .form-body { padding: 16px; }
            .submit-bar { flex-wrap: wrap; } .metrics-row { grid-template-columns: 1fr 1fr; }
            .valuation-hero { padding: 20px; } .val-header { padding: 16px 20px; }
        }
        @media (max-width: 480px) {
            .metrics-row { grid-template-columns: 1fr; } .form-row { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<!-- ===== NAVBAR ===== -->
<nav class="navbar">
    <div class="nav-inner">
        <a href="/" class="nav-brand">
            <div class="nav-logo"><img src="/img/OGA AYO COM CARDXS.jpg" alt="Logo"></div>
            <div><span class="brand-name">G.O AREGHAN</span><span class="brand-tagline">Real Estate Firm</span></div>
        </a>
        <div class="nav-links">
            <a href="/" class="nav-link"><i class="fas fa-home"></i> Home</a>
            <a href="/property-valuation" class="nav-link active"><i class="fas fa-chart-line"></i> Valuation</a>
            <a href="/gallery" class="nav-link"><i class="fas fa-briefcase"></i> Portfolio</a>
            <a href="/chat" class="nav-link"><i class="fas fa-comments"></i> Messages</a>
            <div class="dropdown">
                <button class="dropdown-toggle" id="service-toggle" aria-expanded="false">
                    <i class="fas fa-th-large"></i> Services <i class="fas fa-chevron-down" style="font-size:0.65rem;opacity:0.6;"></i>
                </button>
                <div class="dropdown-menu" id="service-menu">
                    <a href="/customer-buy-page.html" class="dropdown-item"><i class="fas fa-shopping-cart"></i> Buy Property</a>
                    <a href="/customer-rent-page.html" class="dropdown-item"><i class="fas fa-key"></i> Rent Property</a>
                </div>
            </div>
        </div>
        <div class="nav-right">
            <div id="desktop-login-container"><a href="/login" class="btn-primary">Login / Register</a></div>
            <button class="mobile-menu-btn" id="mobile-menu-button"><i class="fas fa-bars"></i></button>
        </div>
    </div>
</nav>

<!-- ===== MOBILE MENU ===== -->
<div id="mobile-menu">
    <div class="mobile-menu-inner">
        <div class="mobile-menu-header">
            <span style="font-family:'Cormorant Garamond',serif;font-size:1.05rem;font-weight:700;color:var(--navy);">G.O AREGHAN REAL ESTATE</span>
            <button class="mobile-close-btn" id="mobile-close"><i class="fas fa-times"></i></button>
        </div>
        <a href="/" class="mobile-nav-link"><i class="fas fa-home"></i> Home</a>
        <a href="/property-valuation" class="mobile-nav-link"><i class="fas fa-chart-line"></i> Property Valuation</a>
        <a href="/gallery" class="mobile-nav-link"><i class="fas fa-briefcase"></i> Portfolio</a>
        <a href="/chat" class="mobile-nav-link"><i class="fas fa-comments"></i> Messages</a>
        <a href="/customer-buy-page.html" class="mobile-nav-link"><i class="fas fa-shopping-cart"></i> Buy Property</a>
        <a href="/customer-rent-page.html" class="mobile-nav-link"><i class="fas fa-key"></i> Rent Property</a>
        <div id="mobile-login-section">
            <a href="/login"><button class="btn-primary" style="width:100%;display:block;text-align:center;padding:13px;margin-top:4px;border-radius:10px;">Login / Register</button></a>
        </div>
    </div>
</div>

<!-- ===== HERO ===== -->
<section class="hero">
    <div class="hero-bg"></div>
    <div class="hero-overlay"></div>
    <div class="hero-accent"></div>
    <div class="hero-inner">
        <div class="hero-eyebrow"><i class="fas fa-search-dollar" style="font-size:0.65rem;"></i> AI-Powered Property Analysis</div>
        <h1 class="hero-title">Property <em>Valuation</em></h1>
        <p class="hero-sub">Get an instant AI-generated market estimate for any Nigerian property. Powered by real estate data and OpenAI.</p>
        <div class="hero-badges">
            <div class="hero-badge"><i class="fas fa-robot"></i> GPT-4 Powered</div>
            <div class="hero-badge"><i class="fas fa-map-marker-alt"></i> Nigerian Market Data</div>
            <div class="hero-badge"><i class="fas fa-clock"></i> Instant Results</div>
            <div class="hero-badge"><i class="fas fa-shield-alt"></i> NIESV Certified Firm</div>
        </div>
    </div>
</section>

<!-- ===== VALUATION FORM ===== -->
<div class="page-container">
    <div class="val-card">

        <!-- Header -->
        <div class="val-header">
            <div class="val-header-icon"><i class="fas fa-home"></i></div>
            <div class="val-header-text">
                <h2>AI Property Valuation</h2>
                <p>Fill in the details below to receive your instant AI estimate</p>
            </div>
            <div class="ai-pill"><span class="pulse-dot"></span> AI Powered</div>
        </div>

        <!-- Form body -->
        <div class="form-body">

            <!-- LEFT: Property Details -->
            <div class="section-card">
                <div class="section-title"><i class="fas fa-building"></i> Property Details</div>

                <div class="form-group">
                    <label>Property Address</label>
                    <input type="text" id="address" placeholder="e.g. 14 Awolowo Road, Ikoyi">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Property Type</label>
                        <select id="property-type">
                            <option value="">Select type</option>
                            <option>Detached House</option>
                            <option>Semi-detached</option>
                            <option>Terraced House</option>
                            <option>Apartment / Flat</option>
                            <option>Duplex</option>
                            <option>Bungalow</option>
                            <option>Land</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Condition</label>
                        <select id="condition">
                            <option value="">Select</option>
                            <option>Newly Built</option>
                            <option>Excellent</option>
                            <option>Good</option>
                            <option>Fair</option>
                            <option>Needs Renovation</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Bedrooms</label>
                        <input type="number" id="bedrooms" min="0" max="20" placeholder="e.g. 4">
                    </div>
                    <div class="form-group">
                        <label>Bathrooms</label>
                        <input type="number" id="bathrooms" min="0" max="20" placeholder="e.g. 3">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Area (sqm)</label>
                        <input type="number" id="area" min="0" placeholder="e.g. 250">
                    </div>
                    <div class="form-group">
                        <label>Year Built</label>
                        <input type="number" id="year-built" min="1900" max="2025" placeholder="e.g. 2018">
                    </div>
                </div>

                <div class="form-group">
                    <label>Land Size (sqm)</label>
                    <input type="number" id="land-size" min="0" placeholder="e.g. 500 (if applicable)">
                </div>
            </div>

            <!-- RIGHT: Location & Features -->
            <div class="section-card">
                <div class="section-title"><i class="fas fa-map-marker-alt"></i> Location & Features</div>

                <div class="form-row">
                    <div class="form-group">
                        <label>City / State</label>
                        <input type="text" id="city" placeholder="e.g. Lagos">
                    </div>
                    <div class="form-group">
                        <label>Neighbourhood</label>
                        <input type="text" id="neighbourhood" placeholder="e.g. Lekki">
                    </div>
                </div>

                <div class="form-group">
                    <label>Location Tier</label>
                    <select id="location-tier">
                        <option value="">Select tier</option>
                        <option>Prime / High-end</option>
                        <option>Mid-range</option>
                        <option>Developing / Affordable</option>
                        <option>Rural / Outskirts</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Property Features</label>
                    <div class="features-grid">
                        <label class="feature-check"><input type="checkbox" value="Swimming Pool"> Swimming Pool</label>
                        <label class="feature-check"><input type="checkbox" value="Garden / Yard"> Garden / Yard</label>
                        <label class="feature-check"><input type="checkbox" value="Garage / Parking"> Garage / Parking</label>
                        <label class="feature-check"><input type="checkbox" value="Security / Fence"> Security / Fence</label>
                        <label class="feature-check"><input type="checkbox" value="Generator / Solar"> Generator / Solar</label>
                        <label class="feature-check"><input type="checkbox" value="Borehole / Water"> Borehole / Water</label>
                        <label class="feature-check"><input type="checkbox" value="Gated Estate"> Gated Estate</label>
                        <label class="feature-check"><input type="checkbox" value="Modern Kitchen"> Modern Kitchen</label>
                        <label class="feature-check"><input type="checkbox" value="Air Conditioning"> Air Conditioning</label>
                        <label class="feature-check"><input type="checkbox" value="Boys Quarters"> Boys Quarters</label>
                    </div>
                </div>

                <div class="form-group" style="margin-top:8px;">
                    <label>Additional Notes (optional)</label>
                    <textarea id="notes" placeholder="Recent renovations, unique features, utilities access..."></textarea>
                </div>
            </div>
        </div>

        <!-- Submit bar -->
        <div class="submit-bar">
            <p class="submit-note"><i class="fas fa-shield-alt"></i> Powered by OpenAI GPT-4 · Nigerian real estate market data</p>
            <button class="btn-valuate" id="valuate-btn" onclick="valuateProperty()">
                <i class="fas fa-search-dollar"></i> Get AI Valuation
            </button>
        </div>

        <!-- Loading -->
        <div class="loading-bar" id="loading-bar">
            <div class="spinner-wrap"><div class="spinner"></div></div>
            <p class="ld-main">Analysing your property...</p>
            <p class="ld-step" id="loading-step">Connecting to AI engine</p>
        </div>

        <!-- Results -->
        <div class="result-area" id="result-area">

            <!-- Price hero -->
            <div class="valuation-hero">
                <div>
                    <div class="price-label">Estimated Market Value</div>
                    <div class="price-value" id="result-price">₦0</div>
                    <div class="price-range" id="result-range">Range: —</div>
                </div>
                <div class="confidence-pill high" id="confidence-pill">
                    <i class="fas fa-check-circle"></i>
                    <span id="confidence-text">High Confidence</span>
                </div>
            </div>

            <!-- Metrics -->
            <div class="metrics-row">
                <div class="metric-card">
                    <div class="metric-val" id="m-sqm">—</div>
                    <div class="metric-lbl">Price / sqm</div>
                </div>
                <div class="metric-card">
                    <div class="metric-val" id="m-yield">—</div>
                    <div class="metric-lbl">Rental Yield</div>
                </div>
                <div class="metric-card">
                    <div class="metric-val" id="m-growth">—</div>
                    <div class="metric-lbl">Annual Growth</div>
                </div>
            </div>

            <!-- AI bubble -->
            <div class="ai-bubble">
                <div class="bubble-header">
                    <div class="bubble-avatar">AI</div>
                    <div>
                        <div class="bubble-name">IBA Valuation AI</div>
                        <div class="bubble-sub">Powered by G.O AREGHAN Real Estate · OpenAI GPT-4</div>
                    </div>
                </div>
                <div class="bubble-text" id="ai-analysis"></div>
            </div>

            <!-- Factors -->
            <div class="factors-card">
                <div class="factors-title"><i class="fas fa-sliders-h"></i> Value Factors</div>
                <div id="factors-list"></div>
            </div>

        </div>

        <!-- Disclaimer -->
        <div class="disclaimer" id="disclaimer">
            <i class="fas fa-info-circle"></i>
           <h2> This AI estimate is for informational purposes only and is not a formal property appraisal.
            Contact G.O AREGHAN REAL ESTATE FIRM for an official NIESV-certified valuation.</h2>
        </div>

    </div>

    <!-- CTA Banner -->
    <div class="cta-banner">
        <div class="cta-banner-text">
            <h3>Need an Official Valuation?</h3>
            <p>Our NIESV-certified team provides formal appraisals and expert guidance for any property.</p>
        </div>
        <div class="cta-banner-btns">
            <a href="/chat" class="btn-gold"><i class="fas fa-comments"></i> Chat with Agent</a>
            <a href="/customer-buy-page.html" class="btn-outline-white"><i class="fas fa-building"></i> Browse Properties</a>
        </div>
    </div>
</div>

<script>
    /* ── Feature checkboxes ── */
    document.querySelectorAll('.feature-check input').forEach(cb => {
        cb.addEventListener('change', () => {
            cb.closest('.feature-check').classList.toggle('checked', cb.checked);
        });
    });

    function getFeatures() {
        return Array.from(document.querySelectorAll('.feature-check input:checked')).map(c => c.value);
    }

    /* ── Currency formatter ── */
    function fmtNGN(n) {
        if (n >= 1e9) return '₦' + (n / 1e9).toFixed(2) + 'B';
        if (n >= 1e6) return '₦' + (n / 1e6).toFixed(1) + 'M';
        return '₦' + n.toLocaleString();
    }

    /* ── Loading steps ── */
    let stepTimer = null;
    function showLoading() {
        document.getElementById('loading-bar').classList.add('active');
        document.getElementById('result-area').classList.remove('visible');
        document.getElementById('disclaimer').style.display = 'none';
        const steps = [
            'Connecting to AI engine...', 'Analysing location & market trends...',
            'Comparing similar properties...', 'Calculating feature premiums...',
            'Generating your valuation report...'
        ];
        let i = 0;
        const el = document.getElementById('loading-step');
        el.textContent = steps[0];
        stepTimer = setInterval(() => { el.textContent = steps[++i % steps.length]; }, 900);
    }
    function hideLoading() {
        clearInterval(stepTimer);
        document.getElementById('loading-bar').classList.remove('active');
    }

    /* ── Main valuation function ── */
    async function valuateProperty() {
        const address   = document.getElementById('address').value.trim();
        const type      = document.getElementById('property-type').value;
        const condition = document.getElementById('condition').value;
        const bedrooms  = document.getElementById('bedrooms').value;
        const bathrooms = document.getElementById('bathrooms').value;
        const area      = document.getElementById('area').value;
        const yearBuilt = document.getElementById('year-built').value;
        const landSize  = document.getElementById('land-size').value;
        const city      = document.getElementById('city').value.trim();
        const hood      = document.getElementById('neighbourhood').value.trim();
        const tier      = document.getElementById('location-tier').value;
        const features  = getFeatures();
        const notes     = document.getElementById('notes').value.trim();

        if (!address || !type || !city || !bedrooms || !area) {
            alert('Please fill in: Address, Property Type, City, Bedrooms, and Area.');
            return;
        }

        const btn = document.getElementById('valuate-btn');
        btn.disabled = true;
        btn.innerHTML = `<div style="width:16px;height:16px;border:2px solid rgba(255,255,255,0.35);border-top-color:#fff;border-radius:50%;animation:spin 0.8s linear infinite;display:inline-block;flex-shrink:0;"></div> Valuing...`;

        showLoading();

        const prompt = `You are a professional Nigerian real estate valuation AI for G.O AREGHAN REAL ESTATE FIRM. Provide an accurate property valuation.

Property Details:
- Address: ${address}
- City/State: ${city}
- Neighbourhood: ${hood || 'Not specified'}
- Location Tier: ${tier || 'Not specified'}
- Type: ${type}
- Bedrooms: ${bedrooms}
- Bathrooms: ${bathrooms || 'Not specified'}
- Area: ${area} sqm
- Land Size: ${landSize ? landSize + ' sqm' : 'Not specified'}
- Year Built: ${yearBuilt || 'Not specified'}
- Condition: ${condition || 'Not specified'}
- Features: ${features.length ? features.join(', ') : 'None selected'}
- Notes: ${notes || 'None'}

Respond ONLY with valid JSON, no extra text, no markdown:
{
  "estimatedValue": <NGN number>,
  "valueLow": <NGN number ~12% below estimatedValue>,
  "valueHigh": <NGN number ~12% above estimatedValue>,
  "confidence": "High" or "Medium" or "Low",
  "pricePerSqm": <NGN number>,
  "rentalYield": <percentage number e.g. 6.5>,
  "annualAppreciation": <percentage number e.g. 8.2>,
  "analysis": "<3-4 sentence honest valuation analysis covering market position, key value drivers, and investment outlook>",
  "factors": [
    {"name": "Location",       "impact": "+15%", "score": 80, "positive": true},
    {"name": "Property Size",  "impact": "+8%",  "score": 65, "positive": true},
    {"name": "Age & Condition","impact": "-5%",  "score": 40, "positive": false},
    {"name": "Features",       "impact": "+6%",  "score": 55, "positive": true},
    {"name": "Market Demand",  "impact": "+4%",  "score": 50, "positive": true}
  ]
}

Nigerian price benchmarks:
- Lagos prime (Ikoyi, VI, Banana Island): ₦200M–₦5B+
- Lagos mid (Lekki Ph1, Ikeja GRA, Surulere): ₦40M–₦300M
- Lagos affordable (Yaba, Gbagada, Isolo): ₦15M–₦80M
- Abuja prime (Maitama, Asokoro, Wuse 2): ₦100M–₦1B+
- Abuja mid (Gwarinpa, Jabi, Garki): ₦25M–₦150M
- Edo State (Auchi, Benin City, Ekpoma): ₦2M–₦60M
- Other cities: scale by location tier.`;

        try {
            const response = await fetch('/valuate', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ prompt })
            });
            const result = await response.json();
            if (!response.ok) throw new Error(result.error || 'Unknown error from server');
            hideLoading();
            renderResult(result);
        } catch (err) {
            hideLoading();
            alert('Valuation failed: ' + err.message + '\n\nMake sure your Express server is running.');
        }

        btn.disabled = false;
        btn.innerHTML = `<i class="fas fa-redo"></i> Re-valuate`;
    }

    /* ── Render results ── */
    function renderResult(r) {
        document.getElementById('result-price').textContent = fmtNGN(r.estimatedValue);
        document.getElementById('result-range').textContent = `Range: ${fmtNGN(r.valueLow)} – ${fmtNGN(r.valueHigh)}`;

        const pill = document.getElementById('confidence-pill');
        const conf = (r.confidence || 'Medium').toLowerCase();
        pill.className = `confidence-pill ${conf}`;
        document.getElementById('confidence-text').textContent = r.confidence + ' Confidence';

        document.getElementById('m-sqm').textContent   = '₦' + Math.round(r.pricePerSqm || 0).toLocaleString();
        document.getElementById('m-yield').textContent  = (r.rentalYield || 0).toFixed(1) + '%';
        document.getElementById('m-growth').textContent = (r.annualAppreciation || 0).toFixed(1) + '%';

        /* Typewriter effect */
        const el = document.getElementById('ai-analysis');
        const text = r.analysis || '';
        el.textContent = '';
        el.classList.add('typing-cursor');
        let i = 0;
        const t = setInterval(() => {
            el.textContent += text[i] || '';
            i++;
            if (i >= text.length) { el.classList.remove('typing-cursor'); clearInterval(t); }
        }, 18);

        /* Factors */
        document.getElementById('factors-list').innerHTML = (r.factors || []).map(f => `
            <div class="factor-row">
                <div class="factor-name">${f.name}</div>
                <div class="factor-track"><div class="factor-fill ${f.positive ? '' : 'neg'}" style="width:${f.score || 50}%"></div></div>
                <div class="factor-impact ${f.positive ? 'pos' : 'neg'}">${f.impact}</div>
            </div>
        `).join('');

        document.getElementById('result-area').classList.add('visible');
        document.getElementById('disclaimer').style.display = 'block';
        document.getElementById('result-area').scrollIntoView({ behavior: 'smooth' });
    }

    /* ── Nav scripts ── */
    document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('mobile-menu-button').addEventListener('click', () => document.getElementById('mobile-menu').classList.add('show'));
        const mc = document.getElementById('mobile-close');
        if (mc) mc.addEventListener('click', () => document.getElementById('mobile-menu').classList.remove('show'));

        const st = document.getElementById('service-toggle'), sm = document.getElementById('service-menu');
        if (st && sm) {
            st.addEventListener('click', e => { e.stopPropagation(); sm.classList.toggle('show'); st.setAttribute('aria-expanded', sm.classList.contains('show')); });
            document.addEventListener('click', () => sm.classList.remove('show'));
            document.addEventListener('keydown', e => { if (e.key === 'Escape') sm.classList.remove('show'); });
        }

        const dc = document.getElementById('desktop-login-container');
        const ms = document.getElementById('mobile-login-section');
        fetch('/api/check-login', { credentials: 'include' }).then(r => r.json()).then(data => {
            if (data.loggedIn) {
                if (dc) dc.innerHTML = `<a href="/logout" class="btn-logout" id="logout-btn-desktop"><i class="fas fa-sign-out-alt" style="margin-right:5px;"></i>Logout</a>`;
                if (ms) ms.innerHTML = `<a href="/logout" class="btn-logout" id="logout-btn-mobile" style="display:block;text-align:center;width:100%;padding:13px;border-radius:10px;"><i class="fas fa-sign-out-alt" style="margin-right:5px;"></i>Logout</a>`;
                document.addEventListener('click', e => {
                    if (e.target.closest('#logout-btn-desktop') || e.target.closest('#logout-btn-mobile')) {
                        if (confirm('Are you sure you want to log out?')) {
                            fetch('/logout', { method: 'POST', credentials: 'include' }).finally(() => window.location.href = '/');
                        }
                        e.preventDefault();
                    }
                });
            }
        }).catch(() => {});
    });
</script>
</body>
</html>

